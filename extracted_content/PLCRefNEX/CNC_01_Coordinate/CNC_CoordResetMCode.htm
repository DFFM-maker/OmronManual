
<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

 <meta name="generator" content="Adobe RoboHelp 11">
<title>CNC_CoordResetMCode</title>
<link rel="stylesheet" href="../00INTRO.css" type="text/css">
<style title="hcp" type="text/css">
<!--
th.hcp1 { border-top:solid 1px #000000;
border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
th.hcp2 { border-top:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
td.hcp3 { border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
div.hcp4 { text-align:center; }
td.hcp5 { border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
span.hcp6 { font-style:italic; }
table.hcp7 { padding-top:5.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt; }
td.hcp8 { vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
table.hcp9 { padding-top:6.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt;
margin-left:31.18pt; }
td.hcp10 { border-left:solid 7px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
table.hcp11 { padding-left:4.00pt;
padding-top:3.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt;
margin-left:42.52pt; }
span.hcp12 { word-spacing:normal;
font:6.0pt 'Times New Roman'; }
p.hcp13 { text-align:left; }
-->
</style>
</head>

<body>
<script type="text/javascript" src="../../ehlpdhtm.js"></script>

<p class="Title">CNC_CoordResetMCode</p>
<p class="FM_body1">The CNC_CoordResetMCode instruction resets the M code 
 output from the NC program.</p>
<p class="FM_tablespec">&#160;</p>

<table style="padding-left: 4.00pt; padding-top: 3.00pt; padding-right: 4.00pt; 
		 padding-bottom: 1.00pt;" cellspacing="0" width="661">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="144" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Instruction</p></th>
		<th width="57" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="57" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">FB/FUN</p></th>
		<th width="197" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Graphic 
		 expression</p></th>
		<th width="208" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">ST expression</p></th>
	</tr>
	<tr style="height: 148.00pt;">
		<td width="144" class="hcp3"><p 
			 class="FM_tablebody19pt">CNC_CoordResetMCode</p></td>
		<td width="57" class="hcp3"><p 
			 class="FM_tablebody19pt">Reset M Code</p></td>
		<td width="57" class="hcp3"><p 
			 class="FM_tablebody19pt">FB</p></td>
		<td width="197" class="hcp3"><p 
			 class="FM_tablebodyc9pt"><span class="FM_Arial">CNC_CoordResetMCode_instance</span></p>
		<div class="hcp4">
			<img alt="CNC_CoordResetMCode_010.jpg" id="image75" src="CNC_CoordResetMCode_010.jpg" width="193" height="147" border="0"> 
		</div>
		<p class="FM_fig">&#160;</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody19pt">CNC_CoordResetMCode_instance 
		 (</p>
		<p class="FM_tablebody19pt">Coord :=<span class="hcp6">parameter</span>,</p>
		<p class="FM_tablebody19pt">Execute :=<span class="hcp6">parameter</span>,</p>
		<p class="FM_tablebody19pt">Inputs :=<span class="hcp6">parameter,</span></p>
		<p class="FM_tablebody19pt">Done =&gt;<span class="hcp6">parameter</span>,</p>
		<p class="FM_tablebody19pt">Busy =&gt;<span class="hcp6">parameter</span>,</p>
		<p class="FM_tablebody19pt">CommandAborted =&gt;<span class="hcp6">parameter</span>,</p>
		<p class="FM_tablebody19pt">Error =&gt;<span class="hcp6">parameter</span>,</p>
		<p class="FM_tablebody19pt">ErrorID =&gt;<span class="hcp6">parameter</span></p>
		<p class="FM_tablebody19pt">);</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp7">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp8"><p class="FM_CRhead3">Variables</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="620" class="hcp9">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp10"><p 
			 class="FM_head4">Input Variables</p></td>
	</tr>
</table>

<p class="FM_tablespec">&#160;</p>

<table cellspacing="0" width="605" class="hcp11">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Meaning</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Valid 
		 range</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Default</p></th>
		<th width="227" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Description</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Execute</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Execute</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">BOOL</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">TRUE or FALSE</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">FALSE</p></td>
		<td width="227" class="hcp5"><p class="FM_tablebody19pt">The 
		 instruction is executed when <span class="FM_italic">Exe­cute</span> 
		 changes to TRUE.</p></td>
	</tr>
	<tr style="height: 76.00pt;">
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Inputs</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Reset input</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">ARRAY [0..7] OF LREAL</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">---</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">0</p></td>
		<td width="227" class="hcp5"><p class="FM_tablebody19pt">Outputs 
		 the <span class="FM_italic">Inputs</span>&#160;when the auxiliary 
		 function is reset.</p>
		<p class="FM_tablebody19pt">The element numbers in the array corre­spond 
		 to the auxiliary function output reset return value of the auxiliary 
		 func­tion output.</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="620" class="hcp9">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp10"><p 
			 class="FM_head4">Output Variables</p></td>
	</tr>
</table>

<p class="FM_tablespec">&#160;</p>

<table cellspacing="0" width="605" class="hcp11">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Meaning</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Valid 
		 range</p></th>
		<th width="302" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Description</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Done</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Done</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">BOOL</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">TRUE or FALSE</p></td>
		<td width="302" class="hcp5"><p class="FM_tablebody19pt">TRUE 
		 when the instruction is completed.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Busy</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Executing</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">BOOL</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">TRUE or FALSE</p></td>
		<td width="302" class="hcp5"><p class="FM_tablebody19pt">TRUE 
		 when the instruction is acknowledged.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Command­Aborted</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Command Aborted</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">BOOL</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">TRUE or FALSE</p></td>
		<td width="302" class="hcp5"><p class="FM_tablebody19pt">TRUE 
		 when the instruction is aborted.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Error</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Error</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">BOOL</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">TRUE or FALSE</p></td>
		<td width="302" class="hcp5"><p class="FM_tablebody19pt">TRUE 
		 while there is an error.</p></td>
	</tr>
	<tr style="height: 28.00pt;">
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">ErrorID</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Error Code</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">WORD</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt"><a name="FTB_8"></a><a href="#FTH_8"><sup>*1</sup></a>&#160;</p></td>
		<td width="302" class="hcp5"><p class="FM_tablebody19pt">Contains 
		 the error code when an error occurs.</p>
		<p class="FM_tablebody19pt">A value of 16#0000 indicates normal 
		 execution.</p></td>
	</tr>
</table>


<table style="margin-left: 42.52pt; margin-bottom: 3.50pt; margin-top: 6.00pt;" 
		 width="605">
	<tr>
		<td><p class="FM_tablebody1c9pt"><a name="FTH_8"></a><sup><a href="#FTB_8">*1</a></sup>Refer 
		 to Troubleshooting.</p></td>
	</tr>
</table>

<p class="FM_head5"><span class="FM_Wingdings">l<span class="hcp12">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Output 
 Variable Update Timing</p>
<p class="FM_tablespec">&#160;</p>

<table cellspacing="0" width="605" class="hcp11">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="265" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Timing 
		 for changing to TRUE</p></th>
		<th width="265" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Timing for 
		 changing to FALSE</p></th>
	</tr>
	<tr style="height: 39.00pt;">
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Done</p></td>
		<td width="265" class="hcp3"><p 
			 class="FM_tablebody19pt">When the M code is reset.</p></td>
		<td width="265" class="hcp5"><p class="FM_tablebul9pt">•<span class="hcp12">&#160;&#160;&#160;</span>When 
		 <span class="FM_italic">Execute</span>&#160;is TRUE and changes 
		 to FALSE.</p>
		<p class="FM_tablebul9pt">•<span class="hcp12">&#160;&#160;&#160;</span>After 
		 one period when <span class="FM_italic">Execute</span> is FALSE.</p></td>
	</tr>
	<tr style="height: 41.00pt;">
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Busy</p></td>
		<td width="265" class="hcp3"><p 
			 class="FM_tablebody19pt">When <span class="FM_italic">Execute</span> 
		 changes to TRUE.</p></td>
		<td width="265" class="hcp5"><p class="FM_tablebul9pt">•<span class="hcp12">&#160;&#160;&#160;</span>When 
		 <span class="FM_italic">Done</span> changes to TRUE.</p>
		<p class="FM_tablebul9pt">•<span class="hcp12">&#160;&#160;&#160;</span>When 
		 <span class="FM_italic">Error</span> changes to TRUE.</p>
		<p class="FM_tablebul9pt">•<span class="hcp12">&#160;&#160;&#160;</span>When 
		 <span class="FM_italic">CommandAborted</span> changes to TRUE.</p></td>
	</tr>
	<tr style="height: 39.00pt;">
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Command­Aborted</p></td>
		<td width="265" class="hcp3"><p 
			 class="FM_tablebody19pt">When this instruction is canceled 
		 due to an error.</p></td>
		<td width="265" class="hcp5"><p class="FM_tablebul9pt">•<span class="hcp12">&#160;&#160;&#160;</span>When 
		 <span class="FM_italic">Execute</span>&#160;is TRUE and changes 
		 to FALSE.</p>
		<p class="FM_tablebul9pt">•<span class="hcp12">&#160;&#160;&#160;</span>After 
		 one period when <span class="FM_italic">Execute</span> is FALSE.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">Error</p></td>
		<td width="265" class="hcp3"><p 
			 class="FM_tablebody19pt">When there is an error in the execution 
		 condi­tions or input parameters for the instruction.</p></td>
		<td width="265" class="hcp5"><p class="FM_tablebody19pt">When 
		 the error is cleared.</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="620" class="hcp9">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp10"><p 
			 class="FM_head4">In-Out Variables</p></td>
	</tr>
</table>

<p class="FM_tablespec">&#160;</p>

<table cellspacing="0" width="605" class="hcp11">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="91" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="91" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Meaning</p></th>
		<th width="125" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp1"><p class="FM_tabletitlec9pt">Valid 
		 range</p></th>
		<th width="223" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Description</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="91" class="hcp3"><p 
			 class="FM_tablebody19pt">Coord</p></td>
		<td width="91" class="hcp3"><p 
			 class="FM_tablebody19pt">CNC Coordi­nate System</p></td>
		<td width="125" class="hcp3"><p 
			 class="FM_tablebody19pt">_sCNC_COORD_REF</p></td>
		<td width="76" class="hcp3"><p 
			 class="FM_tablebody19pt">---</p></td>
		<td width="223" class="hcp5"><p class="FM_tablebody19pt">Specifies 
		 the CNC coordinate system.</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp7">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp8"><p class="FM_CRhead3">Functions</p></td>
	</tr>
</table>

<p class="FM_body1">The CNC_CoordResetMCode instruction resets the M code 
 output of the NC program.</p>
<p class="FM_body1">You can specify the CNC coordinate system to reset 
 M code by specifying the CNC coordinate system.</p>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="620" class="hcp9">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp10"><p 
			 class="FM_head4">Instruction Details</p></td>
	</tr>
</table>

<p class="FM_body1">The M code outputs are enabled (TRUE) in the NC program, 
 and this instruction resets (FALSE) the M code outputs that accepted TRUE 
 for IO refresh of the task for the sequence control program to be exe­cuted.</p>
<div class="hcp4">
	<p class="hcp13"><img alt="CNC_CoordResetMCode_020.jpg" id="image76" src="CNC_CoordResetMCode_020.jpg" width="661" height="140" border="0"> 
	 </p>
</div>
<p class="FM_body1">&#160;</p>
<p class="FM_body1">The result of the reset execution is applied to Strobe 
 of the CNC_CoordCatchMCode (Catch M Code) instruction in the next and 
 subsequent cycles. (When this reset instruction is executed at the beginning 
 of the sequence control program, the following sequence control program 
 accepts M codes if this occurred in the same scan.)</p>
<p class="FM_body1">&#160;</p>
<p class="FM_body1">If an M code output with arguments is reset, the values 
 (8 pieces of LREAL data) can be passed from the sequence control program 
 to NC program. The NC Program stores the received values to NC pro­gram 
 system variable <span class="FM_italic">_CNC_MCodeResetRetValueX</span> 
 (where X is a digit from 0 to 7).</p>
<p class="FM_body1">&#160;</p>
<p class="FM_body1">For example, an NC program is written as follows,</p>
<p class="FM_body1">&#160;</p>
<p class="FM_body1">P0 = _CNC_MCodeResetRetValue0</p>
<p class="FM_body1">&#160;</p>
<p class="FM_body1">You can load the inputs[0] value of CNC_CoordResetMCode, 
 executed lastly for the same CNC coordi­nate system, to P0.</p>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="620" class="hcp9">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp10"><p 
			 class="FM_head4">Timing Charts</p></td>
	</tr>
</table>

<p class="FM_body1">A timing chart for the execution of the CNC_CoordResetMCode 
 instruction is shown below.</p>
<div class="hcp4">
	<p class="hcp13"><img alt="CNC_CoordResetMCode_030.jpg" id="image77" src="CNC_CoordResetMCode_030.jpg" width="661" height="463" border="0"> 
	 </p>
</div>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="620" class="hcp9">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp10"><p 
			 class="FM_head4">Re-execution of CNC Instructions</p></td>
	</tr>
</table>

<p class="FM_body1">This instruction cannot be re-executed. A CNC Instruction 
 Re-execution Disabled error (560<span class="FM_interval10">3</span>0000 
 hex) occurs if re-execution is attempted.</p>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="620" class="hcp9">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp10"><p 
			 class="FM_head4">Multi-execution of CNC Instructions</p></td>
	</tr>
</table>

<p class="FM_body1">Refer to <span class="FM_italic">Instructions for Which 
 Multi-execution Is Supported</span> for details on multi-exe­cution of 
 CNC instructions.</p>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="620" class="hcp9">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp10"><p 
			 class="FM_head4">Errors</p></td>
	</tr>
</table>

<p class="FM_body1">If this instruction cannot be executed, an error occurs, 
 and <span class="FM_italic">Error</span> will change to TRUE.</p>
<p class="FM_body1">You can find out the cause of the error by referring 
 to the value output by <span class="FM_italic">ErrorID</span> (Error Code).</p>
<div class="hcp4">
	<p class="hcp13"><img alt="CNC_CoordResetMCode_040.jpg" id="image78" src="CNC_CoordResetMCode_040.jpg" width="661" height="140" border="0"> 
	 </p>
</div>
<p class="FM_fig">&#160;</p>
</body>
</html>
