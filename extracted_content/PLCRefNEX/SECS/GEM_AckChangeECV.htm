
<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <meta name="generator" content="Adobe RoboHelp 11">
<title>GEM_AckChangeECV</title>
<link rel="StyleSheet" href="SECS.css" type="text/css">
<style title="hcp" type="text/css">
<!--
table.hcp1 { padding-left:4.00pt;
padding-top:3.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt; }
th.hcp2 { border-top:solid 1px #000000;
border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
th.hcp3 { border-top:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
td.hcp4 { border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
td.hcp5 { border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
table.hcp6 { padding-top:5.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt; }
td.hcp7 { vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
th.hcp8 { border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
span.hcp9 { word-spacing:normal;
font:6.0pt 'Times New Roman'; }
div.hcp10 { text-align:left; }
span.hcp11 { font-style:italic; }
table.hcp12 { padding-top:6.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt;
margin-left:31.18pt; }
td.hcp13 { border-left:solid 7px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
table.hcp14 { padding-left:4.00pt;
padding-top:3.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt;
margin-left:42.52pt; }
-->
</style>
</head>

<body>
<script type="text/javascript" src="../../ehlpdhtm.js" language="JavaScript1.2"></script>

<p class="Title">GEM_AckChangeECV</p>
<p class="FM_body1">The GEM_AckChangeECV instruction sends the equipment 
 constant change accept/reject result in reply to an equipment constant 
 change request from the host.</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Instruction</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="43" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">FB/</p>
		<p class="FM_tabletitlec9pt">FUN</p></th>
		<th width="236" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Graphic 
		 expression</p></th>
		<th width="194" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">ST expression</p></th>
	</tr>
	<tr style="height: 103.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_AckChangeECV</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Acknowledge Equipment Constant Change</p></td>
		<td width="43" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FB</p></td>
		<td style="border-right: solid 1px #000000; border-bottom: solid 1px #000000;" 
			 width="236"><div style="text-align: center;">
			<img alt="Appendix_A00074.jpg" id="image31" src="Appendix_A00074.jpg" width="185" height="123" border="0"> 
		</div>
		<p class="FM_fig">&#160;</p></td>
		<td width="194" class="hcp5"><p class="FM_tablebody1c9pt">GEM_AckChangeECV_instance(</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Execute,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;EAC,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Done,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Busy,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Error,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ErrorID);</p></td>
	</tr>
</table>

<p class="FM_CRhead3">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Variables</p></td>
	</tr>
</table>

<p class="FM_tablespec">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="77" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="88" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Meaning</p></th>
		<th width="59" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">I/O</p></th>
		<th width="183" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Description</p></th>
		<th width="97" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Valid 
		 range</p></th>
		<th width="96" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Unit</p></th>
		<th width="60" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Default</p></th>
	</tr>
	<tr style="height: 124.00pt;">
		<td width="77" class="hcp4"><p 
			 class="FM_tablebody1c9pt">EAC</p></td>
		<td width="88" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Equipment acknowledge code</p></td>
		<td width="59" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Input</p></td>
		<td width="183" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Reply to equipment constant change 
		 request</p>
		<p class="FM_tablebody1c9pt">16#00: Acknowledge</p>
		<p class="FM_tablebody1c9pt">16#01: Denied, at least one con­stant 
		 does not exist.</p>
		<p class="FM_tablebody1c9pt">16#02: Denied, busy.</p>
		<p class="FM_tablebody1c9pt">16#03: Denied, at least one con­stant 
		 is out of range.</p>
		<p class="FM_tablebody1c9pt">16#04 to 16#3F: Reserved</p></td>
		<td width="97" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#00 to 16#3F</p></td>
		<td width="96" class="hcp4"><p 
			 class="FM_tablebody1c9pt">---</p></td>
		<td width="60" class="hcp5"><p class="FM_tablebody1c9pt">16#00</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="660" class="hcp1">
	<tr style="height: 37.00pt;" bgcolor="#B3B3B3">
		<th rowspan="2" width="77" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">&#160;</p></th>
		<th width="47" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Bool­ean</p></th>
		<th colspan="4" width="115" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Bit 
		 strings</p></th>
		<th colspan="8" width="209" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Integers</p></th>
		<th colspan="2" width="77" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Real 
		 num­bers</p></th>
		<th colspan="5" width="134" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Times, 
		 durations, dates, and text strings</p></th>
		
	</tr>
	<tr style="height: 43.00pt;" bgcolor="#B3B3B3">
		<th width="47" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">BOOL</p></th>
		<th width="31" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">BYTE</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">WORD</p></th>
		<th width="29" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">DWORD</p></th>
		<th width="29" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">LWORD</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">USINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">UINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">UDINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">ULINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">SINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">INT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">DINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">LINT</p></th>
		<th width="39" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">REAL</p></th>
		<th width="39" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">LREAL</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">TIME</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">DATE</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">TOD</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">DT</p></th>
		<th style="border-bottom: solid 1px #000000; vertical-align: top; 
			 padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; 
			 padding-bottom: 3.00pt;" width="27" bgcolor="#B3B3B3"><p class="FM_tabletitlec9pt">STRING</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="77" class="hcp4"><p 
			 class="FM_tablebody1c9pt">EAC</p></td>
		<td width="47" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="31" class="hcp4"><p 
			 class="FM_tablebody1c9pt">OK</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="29" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="29" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="39" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="39" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp5"><p class="FM_tablebody1c9pt">&#160;</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Function</p></td>
	</tr>
</table>

<p class="FM_body1">The GEM_AckChangeECV instruction sends the equipment 
 constant change accept/reject result in reply to an equipment constant 
 change request from the host. The following are required for the reply.</p>
<p class="FM_bul1">•<span class="hcp9">&#160;&#160;&#160;&#160;</span>Equipment 
 acknowledge code</p>
<p class="FM_bul1">This is the accept/reject result for the equipment constant 
 change request.</p>
<p class="FM_body1">Refer to the application procedure for this instruction 
 for the processing to send a reply with the equip­ment constant change 
 accept/reject result.</p>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Additional Information</p></td>
	</tr>
</table>

<p class="FM_bul1">•<span class="hcp9">&#160;&#160;&#160;&#160;</span>This 
 instruction uses the Host Sends Equipment Constants scenario for the GEM 
 Equipment Con­stants capability.</p>
<p class="FM_bul1">•<span class="hcp9">&#160;&#160;&#160;&#160;</span>If 
 this instruction is executed and execution ends normally, the equipment 
 constant changes that were requested by the host are completed and a SECS 
 message is sent. The SECS message exchange between the equipment and host 
 is given below.</p>
<div class="hcp10">
	<img alt="GEM_AckChangeECV_020.jpg" id="image32" src="GEM_AckChangeECV_020.jpg" width="661" height="112" border="0"> 
</div>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Related System-defined 
		 Variables</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Meaning</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="283" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Description</p></th>
	</tr>
	<tr style="height: 57.40pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_BusyHostChan­geECV</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Host-initiated Equipment Constant 
		 Change Trans­action Processing Flag</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="283" class="hcp5"><p class="FM_tablebody1c9pt">Gives 
		 the status of processing a transaction for a host-initiated equipment 
		 constant change.<sup>*1</sup></p>
		<p class="FM_tablebody1c9pt">TRUE: Processing</p>
		<p class="FM_tablebody1c9pt">FALSE: Not processing</p></td>
	</tr>
	<tr style="height: 55.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_InterlockECV</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Equipment Constant Inter­lock</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="283" class="hcp5"><p class="FM_tablebody1c9pt">Specifies 
		 whether to prohibit equipment constant changes from the host.</p>
		<p class="FM_tablebody1c9pt">TRUE: Prohibited.</p>
		<p class="FM_tablebody1c9pt">FALSE: Granted</p></td>
	</tr>
	<tr style="height: 49.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_sGEM_­SER­VICE_STATUS</p></td>
		<td width="283" class="hcp5"><p class="FM_tablebody1c9pt">Gives 
		 the GEM Service status.</p>
		<p class="FM_tablebody1c9pt">Refer to <a href="GEM_SystemVariables.htm#A206_GEM_Service_Status">GEM 
		 Service status</a> for details.</p></td>
	</tr>
</table>


<table style="margin-left: 0.00pt; margin-bottom: 3.50pt; margin-top: 6.00pt;" 
		 width="661">
	<tr>
		<td><p class="FM_tablebody1c9pt"><sup>*1</sup>This variable changes 
		 to TRUE when New Equipment Constant Send (S2,F15) is received. 
		 It will change to FALSE when execution of the instruction is completed 
		 normally.</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Related User-defined 
		 Variables</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="340" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Description</p></th>
		<th width="170" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">SECS/GEM Configurator 
		 setting</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody19pt">Number of Change Request ECIDs</p></td>
		<td width="340" class="hcp4"><p 
			 class="FM_tablebody19pt">Stores the number of ECIDs for which 
		 a change request was received from the host.</p></td>
		<td rowspan="2" width="170" class="hcp5"><p class="FM_tablebody19pt">Equipment 
		 Constant <span style="font-family: Symbol;">-</span> Opera­tion 
		 settings</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody19pt">Change Request ECID Table</p></td>
		<td width="340" class="hcp4"><p 
			 class="FM_tablebody19pt">Stores the ECIDs for which a change 
		 request was received from the host.</p></td>
		
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Related Error Codes</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Error 
		 code</p></th>
		<th width="227" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="340" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Description</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3836</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">EAC Out of Range</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 value of the <span class="hcp11">EAC</span>&#160;input 
		 variable is outside of the valid range.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#041D</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Exceeded Simultaneous Instruction 
		 Exe­cuted Resources</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 number of simultaneously executed GEM instructions exceeded the 
		 limit.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3810</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Initializing</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Initializing.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3811</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in &#160;EQStarting</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was EQStarting.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3812</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in EQInitializing</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was EQInitializing.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3814</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Stop</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Stop.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3815</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Error</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Error.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3816</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in ShuttingDown</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was ShuttingDown.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3817</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Shutdown</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Shutdown.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3818</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">No Message Received</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when an equipment constant change request 
		 was not received.</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Precautions for Correct 
		 Use</p></td>
	</tr>
</table>

<p class="FM_bul1">•<span class="hcp9">&#160;&#160;&#160;&#160;</span>Before 
 executing the instruction, confirm that all of the following conditions 
 are met. If the instruction is executed when any of these conditions is 
 not met, an error will occur and <span class="hcp11">Error</span>&#160;will 
 change to TRUE.</p>
<p class="FM_bul1">a)<span class="hcp9">&#160;&#160;&#160;</span><span class="hcp11">_GEM_ServiceStatus</span>&#160;must be 
 <span class="hcp11">EQRun</span>.</p>
<p class="FM_bul1">b)<span class="hcp9">&#160;&#160;&#160;</span><span class="hcp11">_GEM_BusyHostChangeECV</span> must be 
 TRUE.</p>
<p class="FM_bul1">•<span class="hcp9">&#160;&#160;&#160;&#160;</span>In 
 the following cases, <span class="hcp11">_GEM_BusyHostChangeECV</span> 
 does not change to TRUE even if New Equip­ment Constant Send (S2,F15) 
 is received.</p>
<p class="FM_bul1">a)<span class="hcp9">&#160;&#160;&#160;</span>An 
 equipment constant received from the host was not registered in the SECS/GEM 
 Configura­tor.</p>
<p class="FM_bul1">b)<span class="hcp9">&#160;&#160;&#160;</span>The 
 data type of the equipment constant is different between the data received 
 from the host and the SECS/GEM Configurator setting.</p>
<p class="FM_bul1">c)<span class="hcp9">&#160;&#160;&#160;</span>An 
 equipment constant value received from the host is outside of the valid 
 range set in the SECS/GEM Configurator.</p>
<p class="FM_bul1">d)<span class="hcp9">&#160;&#160;&#160;</span><span class="hcp11">_GEM_Interlock_ECV</span> is TRUE.</p>
<p class="FM_bul1">e)<span class="hcp9">&#160;&#160;&#160;</span>New 
 Equipment Constant Acknowledge (S2,F16) is disabled in the message settings 
 on the SECS/GEM Configurator.</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Application Procedure</p></td>
	</tr>
</table>

<p class="FM_body1">Use the following procedure for this instruction.</p>
<p class="FM_list1"><span class="FM_list1num">1<span class="hcp9">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Detecting 
 an Equipment Constant Change Request</p>
<p class="FM_listbody1">Confirm that <span class="hcp11">_GEM_BusyHostChangeECV</span> 
 changes from FALSE to TRUE.<br>
Store the IDs of the equipment constants with change requests in the following 
 variables.</p>
<p class="FM_bul3">•<span class="hcp9">&#160;&#160;&#160;&#160;</span>Change 
 Request ECID Table</p>
<p class="FM_bul3">•<span class="hcp9">&#160;&#160;&#160;&#160;</span>Number 
 of Change Request ECIDs</p>
<p class="FM_list1next"><span class="FM_list1num">2<span class="hcp9">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Determining 
 Acceptance/Rejection of Equipment Constant Change Request</p>
<p class="FM_listbody1">Determine if it is possible to change the ECIDs 
 in Change Request ECID Table. Do this for the number of changes requested 
 in <span class="hcp11">Number of Change Request ECIDs</span>. 
 Conclude that changing is possible only if changing all of the equipment 
 constants is possible.</p>
<p class="FM_listbody1">If changing them is possible, the equipment acknowledge 
 code is 16#00.</p>
<p class="FM_listbody1">If changing them is not possible, the equipment 
 acknowledge code is 16#02.</p>
<p class="FM_list1next"><span class="FM_list1num">3<span class="hcp9">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Sending 
 the Accept/Reject Result for the Equipment Constant Change Request</p>
<p class="FM_listbody1">Specify the equipment acknowledge code from step 
 2 in the <span class="hcp11">EAC</span>&#160;input variable 
 and execute the instruction. The equipment constant change accept/reject 
 result is sent to the host.</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Sample Programming</p></td>
	</tr>
</table>

<p class="FM_body1">This sample sends the change accept/reject 
 result in reply to an equipment constant change request.</p>

<table cellspacing="0" width="620" class="hcp12">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp13"><p 
			 class="FM_CRhead3">LD</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="605" class="hcp14">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Internal 
		 Variables</p></th>
		<th width="170" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="57" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Initial 
		 value</p></th>
		<th width="208" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td rowspan="2" width="76" class="hcp7"><p class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">AckChangeECV_EAC</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BYTE</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Result 
		 acknowledge code</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">AckChangeECV_instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_Ack<br>
		ChangeECV</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of GEM_AckChangeECV instruction</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="605" class="hcp14">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">External 
		 Variables</p></th>
		<th width="174" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="355" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">GEM 
		 Service status</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_BusyHostChange<br>
		ECV</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">Equipment 
		 Constant Change Transaction Processing Flag</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>
<div class="hcp10">
	<img alt="GEM_AckChangeECV_030.jpg" id="image33" src="GEM_AckChangeECV_030.jpg" width="661" height="199" border="0"> 
</div>
<p class="FM_fig">&#160;</p>

<table cellspacing="0" width="620" class="hcp12">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp13"><p 
			 class="FM_CRhead3">ST</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="605" class="hcp14">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Internal 
		 Variables</p></th>
		<th width="170" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="57" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Initial 
		 value</p></th>
		<th width="208" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td rowspan="5" width="76" class="hcp7"><p class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">AckChangeECV_EAC</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BYTE</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Result 
		 acknowledge code</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">AckChangeECV_instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_Ack<br>
		ChangeECV</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of GEM_AckChangeECV instruction</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG_instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of R_TRIG instruction</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Trigger</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 for FALSE to TRUE change in <span class="hcp11">_GEM_BusyHostChangeECV</span></p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Stage</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">INT</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Program 
		 execution status</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="605" class="hcp14">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">External 
		 Variables</p></th>
		<th width="174" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="355" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">GEM 
		 Service status</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_BusyHostChange<br>
		ECV</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">Equipment 
		 Constant Change Transaction Processing Flag</p></td>
	</tr>
</table>

<p class="FM_body1ST">&#160;</p>
<div class="FM_body1l">
	&#160; 
</div>
<div class="FM_body1l">
	CASE Stage Of 
</div>
<div class="FM_body1l">
	0: // Notification of reception from host. 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;R_TRIG_instance( _GEM_BusyHostChangeECV, Trigger 
	 ); 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;IF( Trigger = TRUE ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Determine if changing 
	 equipment constant is possible. (Step 2) 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;AckChangeECV_EAC :=BYTE#0; 
	 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Initialization 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;AckChangeECV_instance( 
	 Execute:=FALSE ); 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 1; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;END_IF; 
</div>
<div class="FM_body1l">
	1:// Reply to host. 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;// Start send. 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;AckChangeECV_instance( Execute:=TRUE, EAC:=AckChangeECV_EAC 
	 ); 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;IF( AckChangeECV_instance.Done = TRUE ) THEN 
	 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 10; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;ELSIF( AckChangeECV_instance.Error = TRUE ) 
	 THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Add error processing as 
	 required. 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 10; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;END_IF; 
</div>
<div class="FM_body1l">
	10: // End 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;Stage := 0; 
</div>
<div class="FM_body1l">
	END_CASE; 
</div>
</body>
</html>
