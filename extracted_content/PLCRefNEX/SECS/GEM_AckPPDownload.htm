
<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <meta name="generator" content="Adobe RoboHelp 11">
<title>GEM_AckPPDownload</title>
<link rel="StyleSheet" href="SECS.css" type="text/css">
<style title="hcp" type="text/css">
<!--
table.hcp1 { padding-left:4.00pt;
padding-top:3.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt; }
th.hcp2 { border-top:solid 1px #000000;
border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
th.hcp3 { border-top:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
td.hcp4 { border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
div.hcp5 { text-align:center; }
td.hcp6 { border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
table.hcp7 { padding-top:5.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt; }
td.hcp8 { vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
table.hcp9 { margin-left:0.00pt;
margin-bottom:3.50pt;
margin-top:6.00pt; }
th.hcp10 { border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
span.hcp11 { word-spacing:normal;
font:6.0pt 'Times New Roman'; }
span.hcp12 { font-family:Symbol; }
div.hcp13 { text-align:left; }
table.hcp14 { padding-left:4.00pt;
padding-top:3.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt;
margin-left:42.52pt; }
span.hcp15 { font-style:italic; }
table.hcp16 { padding-top:6.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt;
margin-left:31.18pt; }
td.hcp17 { border-left:solid 7px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
span.hcp18 { font-family:Symbol;
font-weight:bold; }
-->
</style>
</head>

<body>
<script type="text/javascript" src="../../ehlpdhtm.js" language="JavaScript1.2"></script>

<p class="Title">GEM_AckPPDownload</p>
<p class="FM_body1">The GEM_AckPPDownload instruction sends the accept/reject 
 result in reply to a request for a process program download from the host.</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Instruction</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="43" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">FB/</p>
		<p class="FM_tabletitlec9pt">FUN</p></th>
		<th width="236" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Graphic 
		 expression</p></th>
		<th width="194" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">ST expression</p></th>
	</tr>
	<tr style="height: 118.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_AckPPDownload</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Acknowlege Process Pro­gram Down­load</p></td>
		<td width="43" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FB</p></td>
		<td style="border-right: solid 1px #000000; border-bottom: solid 1px #000000;" 
			 width="236"><div class="hcp5">
			<img alt="GEM_AckPPDownload_010.jpg" id="image64" src="GEM_AckPPDownload_010.jpg" width="214" height="129" border="0"> 
		</div>
		<p class="FM_fig">&#160;</p></td>
		<td width="194" class="hcp6"><p class="FM_tablebody1c9pt">GEM_AckPPDownload_instance(</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Execute,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;PPID,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ACKC7,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Done,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Busy,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Error,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ErrorID);</p></td>
	</tr>
</table>

<p class="FM_CRhead3">&#160;</p>

<table cellspacing="0" width="661" class="hcp7">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp8"><p class="FM_CRhead3">Variables</p></td>
	</tr>
</table>

<p class="FM_tablespec">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="77" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="88" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Meaning</p></th>
		<th width="59" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">I/O</p></th>
		<th width="183" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Description</p></th>
		<th width="97" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Valid 
		 range</p></th>
		<th width="96" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Unit</p></th>
		<th width="60" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Default</p></th>
	</tr>
	<tr style="height: 39.40pt;">
		<td width="77" class="hcp4"><p 
			 class="FM_tablebody1c9pt">PPID</p></td>
		<td width="88" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Process pro­gram ID</p></td>
		<td rowspan="2" width="59" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Input</p></td>
		<td width="183" class="hcp4"><p 
			 class="FM_tablebody1c9pt">PPID that was downloaded<sup>*1</sup></p></td>
		<td width="97" class="hcp4"><p 
			 class="FM_tablebody1c9pt">121 bytes max. (including final 
		 NULL)<sup>*2</sup></p></td>
		<td rowspan="2" width="96" class="hcp4"><p 
			 class="FM_tablebody1c9pt">---</p></td>
		<td width="60" class="hcp6"><p class="FM_tablebody1c9pt">---</p></td>
	</tr>
	<tr style="height: 130.00pt;">
		<td width="77" class="hcp4"><p 
			 class="FM_tablebody1c9pt">ACKC7</p></td>
		<td width="88" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Acknowledge code</p></td>
		<td width="183" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Accept/reject result</p>
		<p class="FM_tablebody1c9pt">16#00: Accepted</p>
		<p class="FM_tablebody1c9pt">16#0401: Permission not granted</p>
		<p class="FM_tablebody1c9pt">16#02: Length error</p>
		<p class="FM_tablebody1c9pt">16#03: Matrix overflow</p>
		<p class="FM_tablebody1c9pt">16#04: PPID not found</p>
		<p class="FM_tablebody1c9pt">16#05: Mode unsupported</p>
		<p class="FM_tablebody1c9pt">16#06 to 16#3F: Other errors</p></td>
		<td width="97" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#00 to 16#3F</p></td>
		<td width="60" class="hcp6"><p class="FM_tablebody1c9pt">16#00</p></td>
	</tr>
</table>


<table width="661" class="hcp9">
	<tr>
		<td><p class="FM_tablebody1c9pt"><sup>*1</sup>It is not necessary 
		 to set an input variable. The PPID of the downloaded process program 
		 is automatically input.</p>
		<p class="FM_tablebody1c9pt"><sup>*2</sup>The maximum number of 
		 characters is set on the SECS/GEM Configurator. The maximum number 
		 of bytes is the maxi­mum number of characters including the final 
		 NULL character plus 1.</p></td>
	</tr>
</table>


<table cellspacing="0" width="660" class="hcp1">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th rowspan="2" width="77" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">&#160;</p></th>
		<th width="47" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Bool­ean</p></th>
		<th colspan="4" width="115" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Bit 
		 strings</p></th>
		<th colspan="8" width="209" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Integers 
		 </p></th>
		<th colspan="2" width="70" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Real 
		 num­bers</p></th>
		<th colspan="5" width="142" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Times, 
		 durations, dates, and text strings</p></th>
		
	</tr>
	<tr style="height: 43.00pt;" bgcolor="#B3B3B3">
		<th width="47" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">BOOL</p></th>
		<th width="31" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">BYTE</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">WORD</p></th>
		<th width="29" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">DWORD</p></th>
		<th width="29" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">LWORD</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">USINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">UINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">UDINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">ULINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">SINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">INT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">DINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">LINT</p></th>
		<th width="35" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">REAL</p></th>
		<th width="35" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">LREAL</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">TIME</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">DATE</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">TOD</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp10"><p class="FM_tabletitlec9pt">DT</p></th>
		<th style="border-bottom: solid 1px #000000; vertical-align: top; 
			 padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; 
			 padding-bottom: 3.00pt;" width="35" bgcolor="#B3B3B3"><p class="FM_tabletitlec9pt">STRING</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="77" class="hcp4"><p 
			 class="FM_tablebody1c9pt">PPID</p></td>
		<td width="47" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="31" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="29" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="29" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="35" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="35" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="35" class="hcp6"><p class="FM_tablebody1c9pt">OK</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="77" class="hcp4"><p 
			 class="FM_tablebody1c9pt">ACKC7</p></td>
		<td width="47" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="31" class="hcp4"><p 
			 class="FM_tablebody1c9pt">OK</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="29" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="29" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="35" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="35" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="35" class="hcp6"><p class="FM_tablebody1c9pt">&#160;</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp7">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp8"><p class="FM_CRhead3">Function</p></td>
	</tr>
</table>

<p class="FM_body1">The GEM_AckPPDownload instruction sends the accept/reject 
 result in reply to a request for a process program download from the host. 
 The following are required for the reply.</p>
<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>Acknowledge 
 Code</p>
<p class="FM_bul1">This is the accept/reject result for the downloaded 
 formatted process program.</p>
<p class="FM_body1">Refer to the application procedure for this instruction 
 for the processing to send a reply with the accept/reject result.</p>

<table cellspacing="0" width="661" class="hcp7">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp8"><p class="FM_CRhead3">Additional Information</p></td>
	</tr>
</table>

<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>This 
 instruction uses the Host-initiated Process Program Download <span class="hcp12">-</span>&#160;Unformatted 
 scenario for the GEM Process Program Management capability.</p>
<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>A 
 SECS message is sent if this instruction is executed and execution ends 
 normally. The SECS message exchange between the equipment and host is 
 given below.</p>
<div class="hcp13">
	<img alt="GEM_AckPPDownload_020.jpg" id="image65" src="GEM_AckPPDownload_020.jpg" width="661" height="118" border="0"> 
</div>
<p class="FM_tablespec">&#160;</p>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp7">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp8"><p class="FM_CRhead3">Related System-defined 
		 Variables</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="658" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Meaning</p></th>
		<th width="91" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="265" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Description</p></th>
	</tr>
	<tr style="height: 57.40pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_BusyHostP­PDownload</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Host-initiated Process Program Download 
		 Trans­action Processing Flag</p></td>
		<td width="91" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="265" class="hcp6"><p class="FM_tablebody1c9pt">Gives 
		 the status of processing a transaction for a host-initiated process 
		 program download. <sup>*1</sup></p>
		<p class="FM_tablebody1c9pt">TRUE: Processing</p>
		<p class="FM_tablebody1c9pt">FALSE: Not processing</p></td>
	</tr>
	<tr style="height: 67.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_Interlock_PP</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Process Program Interlock</p></td>
		<td width="91" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="265" class="hcp6"><p class="FM_tablebody1c9pt">Specifies 
		 whether to prohibit process program deletion requests and upload/download 
		 requests from the host.</p>
		<p class="FM_tablebody1c9pt">TRUE: Prohibited</p>
		<p class="FM_tablebody1c9pt">FALSE: Granted</p></td>
	</tr>
	<tr style="height: 37.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status</p></td>
		<td width="91" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_sGEM_SER­VICE_STA­TUS</p></td>
		<td width="265" class="hcp6"><p class="FM_tablebody1c9pt">Gives 
		 the GEM Service status.</p>
		<p class="FM_tablebody1c9pt">Refer to<a href="GEM_SystemVariables.htm#A206_GEM_Service_Status"> 
		 GEM Service status</a> for details.</p></td>
	</tr>
</table>


<table width="658" class="hcp9">
	<tr>
		<td><p class="FM_tablebody1c9pt"><sup>*1</sup>This variable changes 
		 to TRUE when a Process Program Send (S7,F3) is received from the 
		 host. It will change to FALSE when execution of the instruction 
		 is completed normally.</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp7">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp8"><p class="FM_CRhead3">Related User-defined 
		 Variables</p></td>
	</tr>
</table>

<p class="FM_head5"><span class="FM_Wingdings">l<span class="hcp11">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Equipment 
 Management Variable</p>

<table cellspacing="0" width="605" class="hcp14">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="314" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Description</p></th>
		<th width="140" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">SECS/GEM Configura­tor 
		 setting</p></th>
	</tr>
	<tr style="height: 37.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody19pt">PPID Management Table</p></td>
		<td width="314" class="hcp4"><p 
			 class="FM_tablebody19pt">Used to manage PPID information inside 
		 the equipment.<br>
		If the table contains NULL, no PPID information is regis­tered.</p></td>
		<td width="140" class="hcp6"><p class="FM_tablebody19pt">Process 
		 Program</p></td>
	</tr>
</table>

<p class="FM_head5"><span class="FM_Wingdings">l<span class="hcp11">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Variables 
 to Receive Download Request</p>

<table cellspacing="0" width="601" class="hcp14">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="280" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Description</p></th>
		<th width="170" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">SECS/GEM Configurator 
		 setting</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody19pt">Host-initiated Download PPID</p></td>
		<td width="280" class="hcp4"><p 
			 class="FM_tablebody19pt">Stores the process program PPID for 
		 the host-initi­ated download.</p></td>
		<td rowspan="3" width="170" class="hcp6"><p class="FM_tablebody19pt">Process 
		 Program <span class="hcp12">-</span> Unformat­ted</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody19pt">Host-initiated Download LENGTH</p></td>
		<td width="280" class="hcp4"><p 
			 class="FM_tablebody19pt">Stores the LENGTH of the process 
		 program for the host-initiated download.</p></td>
		
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody19pt">Host-initiated Download PPBODY</p></td>
		<td width="280" class="hcp4"><p 
			 class="FM_tablebody19pt">Stores the PPBODY of the process 
		 program for the host-initiated download.</p></td>
		
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp7">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp8"><p class="FM_CRhead3">Related Error Codes</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Error 
		 code</p></th>
		<th width="227" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="340" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Description</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3833</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">ACKC7 Out of Range</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">The 
		 value of the <span class="hcp15">ACKC7</span>&#160;input 
		 variable is outside of the valid range.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#041D</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Exceeded Simultaneous Instruction 
		 Exe­cuted Resources</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">The 
		 number of simultaneously executed GEM instructions exceeded the 
		 limit.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3810</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Initializing</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Initializing.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3811</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in EQStarting</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was EQStarting.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3812</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in EQInitializing</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was EQInitializing.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3814</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Stop</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Stop.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3815</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Error</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Error. 
		 </p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3816</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in ShuttingDown</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was ShuttingDown.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3817</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Shutdown</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Shutdown.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3818</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">No Message Received</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when a process program down­load request 
		 was not received.</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp7">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp8"><p class="FM_CRhead3">Precautions for Correct 
		 Use</p></td>
	</tr>
</table>

<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>Before 
 executing the instruction, confirm that all of the following conditions 
 are met. If the instruction is executed when any of these conditions is 
 not met, an error will occur and <span class="hcp15">Error</span>&#160;will 
 change to TRUE.</p>
<p class="FM_bul1">a)<span class="hcp11">&#160;&#160;&#160;</span><span class="hcp15">_GEM_ServiceStatus</span>&#160;must be 
 <span class="hcp15">EQRun</span>.</p>
<p class="FM_bul1">b)<span class="hcp11">&#160;&#160;&#160;</span><span class="hcp15">_GEM_BusyHostPPDownload</span> must be 
 TRUE.</p>
<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>In 
 the following cases, <span class="hcp15">_GEM_BusyHostPPDownload</span>&#160;does 
 not change to TRUE even if a Process Program Send (S7,F3) is received.</p>
<p class="FM_bul1">a)<span class="hcp11">&#160;&#160;&#160;</span>The 
 data types of the PPID set on the SECS/GEM Configurator and the PPID for 
 the process program received from the host are different.</p>
<p class="FM_bul1">b)<span class="hcp11">&#160;&#160;&#160;</span>The 
 LENGTH of the process program received from the host is larger than the 
 size of PPBODY set on the SECS/GEM Configurator.</p>
<p class="FM_bul1">c)<span class="hcp11">&#160;&#160;&#160;</span>The 
 PPID of the downloaded process program is new and there is no space in 
 <span class="hcp15">PPID Manage­ment Table</span>.</p>
<p class="FM_bul1">d)<span class="hcp11">&#160;&#160;&#160;</span><span class="hcp15">_GEM_Interlock_PP</span> is TRUE.</p>
<p class="FM_bul1">e)<span class="hcp11">&#160;&#160;&#160;</span>Process 
 Program Send (S7,F3) is disabled in the message settings on the SECS/GEM 
 Configu­rator.</p>
<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>An 
 error does not occur even if you specify a different PPID in the <span class="hcp15">PPID</span>&#160;input variable from the 
 one that was received.</p>
<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>An 
 error does not occur when you execute the instruction even if you specify 
 a different PPID in the <span class="hcp15">PPID</span> 
 input variable compared with the Host-initiated Download PPID.</p>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp7">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp8"><p class="FM_CRhead3">Application Procedure</p></td>
	</tr>
</table>

<p class="FM_body1">Use the following procedure for this instruction.</p>
<p class="FM_fig">&#160;</p>
<p class="FM_list1"><span class="FM_list1num">1<span class="hcp11">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Detecting 
 the Process Program Download</p>
<p class="FM_listbody1">Confirm that <span class="hcp15">_GEM_BusyHostPPDownload</span> 
 changes from FALSE to TRUE.<br>
The downloaded process program is stored in the following variables.</p>
<p class="FM_bul3">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>Host-initiated 
 Download PPID</p>
<p class="FM_bul3">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>Host-initiated 
 Download LENGTH</p>
<p class="FM_bul3">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>Host-initiated 
 Download PPBODY</p>
<p class="FM_list1next"><span class="FM_list1num">2<span class="hcp11">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Determining 
 Acceptance/Rejection of Downloaded Process Program</p>
<p class="FM_listbody1">If the download can be accepted, the acknowledge 
 code is 16#00.</p>
<p class="FM_listbody1">If the download cannot be accepted, the acknowledge 
 code is 16#05.</p>
<p class="FM_list1next"><span class="FM_list1num">3<span class="hcp11">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Saving 
 the Process Program</p>
<p class="FM_listbody1">If the download can be accepted, save the downloaded 
 process program in the equipment. If required, confirm that the process 
 program was saved.</p>
<p class="FM_listbody1">If it was saved, the acknowledge code is 16#00.</p>
<p class="FM_listbody1">If it was not saved, the acknowledge code is 16#01.</p>
<p class="FM_listbody1">If it was saved and the PPID in <span class="hcp15">Host-initiated 
 Download PPID</span>&#160;is not in <span class="hcp15">PPID 
 Management Table</span>, add it to <span class="hcp15">PPID 
 Management Table</span>. If it is already in <span class="hcp15">PPID 
 Management Table</span>, it does not need to be added.</p>
<p class="FM_list1next"><span class="FM_list1num">4<span class="hcp11">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Sending 
 the Accept/Reject Result for the Process Program</p>
<p class="FM_listbody1">Specify the acknowledge code from steps 2 and 3 
 in the <span class="hcp15">ACKC7</span>&#160;input variable 
 and execute the instruction. The process program accept/reject result 
 is sent to the host.</p>
<p class="FM_listbody1">&#160;</p>
<p class="FM_body1">The following diagram shows the user program processing 
 and data flow for the application procedure.<br>
The diagram shows an example of a request from the host to download the 
 process program with a PPID of <span class="hcp15">RUN</span>. 
 Numbers 1 to 4 in the diagram indicate the steps in the application procedure.</p>
<div class="hcp5">
	<p style="text-align: left;"><img alt="GEM_AckPPDownload_025.jpg" id="image66" src="GEM_AckPPDownload_025.jpg" border="0"> </p>
</div>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp7">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp8"><p class="FM_CRhead3">Sample Programming</p></td>
	</tr>
</table>

<p class="FM_body1">This sample sends the accept/reject 
 result in reply to a request for a process program download from the host.</p>

<table cellspacing="0" width="620" class="hcp16">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp17"><p 
			 class="FM_CRhead3">SECS/GEM Configurator</p></td>
	</tr>
</table>

<p class="FM_body1">First, the relevant variables are registered on the 
 SECS/GEM Configurator.</p>
<p class="FM_body1">Only the items that are related to the GEM_AckPPDownload 
 instruction are given in the following table.</p>
<p class="FM_head5"><span class="FM_Wingdings">l<span class="hcp11">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Process 
 Program <span class="hcp18">-</span> 
 Operation Settings</p>

<table cellspacing="0" width="344" class="hcp14">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="234" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Item</p></th>
		<th width="110" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Set value</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="234" class="hcp4"><p 
			 class="FM_tablebody19pt">Number of saved process programs</p></td>
		<td width="110" class="hcp6"><p class="FM_tablebody19pt">5</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="234" class="hcp4"><p 
			 class="FM_tablebody19pt">Link variable for PPID management 
		 table</p></td>
		<td width="110" class="hcp6"><p class="FM_tablebody19pt">PPID_TABLE</p></td>
	</tr>
</table>

<p class="FM_head5"><span class="FM_Wingdings">l<span class="hcp11">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Process 
 Program <span class="hcp18">-</span> 
 Unformatted</p>

<table cellspacing="0" width="574" class="hcp14">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="333" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Item</p></th>
		<th width="242" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Set value</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="333" class="hcp4"><p 
			 class="FM_tablebody19pt">PPBODY format</p></td>
		<td width="242" class="hcp6"><p class="FM_tablebody19pt">B</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="333" class="hcp4"><p 
			 class="FM_tablebody19pt">PPBODY data size</p></td>
		<td width="242" class="hcp6"><p class="FM_tablebody19pt">10</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="333" class="hcp4"><p 
			 class="FM_tablebody19pt">Link variable for host-initiated 
		 download - PPID</p></td>
		<td width="242" class="hcp6"><p class="FM_tablebody19pt">HOST_DOWNLOAD_PPID</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="333" class="hcp4"><p 
			 class="FM_tablebody19pt">Link variable for host-initiated 
		 download - LENGTH</p></td>
		<td width="242" class="hcp6"><p class="FM_tablebody19pt">HOST_DOWNLOAD_LENGTH</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="333" class="hcp4"><p 
			 class="FM_tablebody19pt">Link variable for host-initiated 
		 download - PPBODY</p></td>
		<td width="242" class="hcp6"><p class="FM_tablebody19pt">HOST_DOWNLOAD_PPBODY</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>
<p class="FM_body1">Next, enter the programming on the Sysmac Studio.</p>

<table cellspacing="0" width="620" class="hcp16">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp17"><p 
			 class="FM_CRhead3">LD</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="605" class="hcp14">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Internal 
		 Variables</p></th>
		<th width="178" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="57" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Initial 
		 value</p></th>
		<th width="200" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td rowspan="4" width="76" class="hcp8"><p class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="178" class="hcp4"><p 
			 class="FM_tablebody1c9pt">varAckPPDownloadACKC7</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BYTE</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="200" class="hcp6"><p class="FM_tablebody1c9pt">Download 
		 accept/reject result</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="178" class="hcp4"><p 
			 class="FM_tablebody1c9pt">AckPPDownload_instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_AckPP<br>
		Download</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="200" class="hcp6"><p class="FM_tablebody1c9pt">Instance 
		 of GEM_AckPPDownload instruction</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="178" class="hcp4"><p 
			 class="FM_tablebody1c9pt">localPPData</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">ARRAY[0..9] OF BYTE</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="200" class="hcp6"><p class="FM_tablebody1c9pt">Process 
		 program data to save in equipment</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="178" class="hcp4"><p 
			 class="FM_tablebody1c9pt">localPPDataLength</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">INT</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="200" class="hcp6"><p class="FM_tablebody1c9pt">Data 
		 size of process program data to save in equipment</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="605" class="hcp14">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">External 
		 Variables</p></th>
		<th width="189" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="340" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td rowspan="6" width="76" class="hcp8"><p class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">GEM 
		 Service status</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_BusyHostPPDownload</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">Host-initiated 
		 Process Program Download Transaction Pro­cessing Flag</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">PPID_TABLE</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">Link 
		 variable for PPID management table</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">HOST_DOWNLOAD_PPID</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">Link 
		 variable for host-initiated download - PPID</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">HOST_DOWNLOAD_LENGTH</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">Link 
		 variable for host-initiated download - LENGTH</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">HOST_DOWNLOAD_PPBODY</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">Link 
		 variable for host-initiated download - PPBODY</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>
<div class="hcp13">
	<img alt="GEM_AckPPDownload_030.jpg" id="image67" src="GEM_AckPPDownload_030.jpg" width="661" height="257" border="0"> 
</div>
<p class="FM_fig">&#160;</p>

<table cellspacing="0" width="620" class="hcp16">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp17"><p 
			 class="FM_CRhead3">ST</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="605" class="hcp14">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Internal 
		 Variables</p></th>
		<th width="178" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="57" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Initial 
		 value</p></th>
		<th width="200" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td rowspan="7" width="76" class="hcp8"><p class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="178" class="hcp4"><p 
			 class="FM_tablebody1c9pt">varAckPPDownloadACKC7</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BYTE</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="200" class="hcp6"><p class="FM_tablebody1c9pt">Upload 
		 accept/reject result</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="178" class="hcp4"><p 
			 class="FM_tablebody1c9pt">AckPPDownload_instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_AckPP<br>
		Download</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="200" class="hcp6"><p class="FM_tablebody1c9pt">Instance 
		 of GEM_AckPPDownload instruction</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="178" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG_instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="200" class="hcp6"><p class="FM_tablebody1c9pt">Instance 
		 of R_TRIG instruction</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="178" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Trigger</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="200" class="hcp6"><p class="FM_tablebody1c9pt">Flag 
		 for FALSE to TRUE change in <span class="hcp15">_GEM_BusyHostPPDownload</span></p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="178" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Stage</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">INT</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="200" class="hcp6"><p class="FM_tablebody1c9pt">Program 
		 execution status</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="178" class="hcp4"><p 
			 class="FM_tablebody1c9pt">localPPData</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">ARRAY[0..9] OF BYTE</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="200" class="hcp6"><p class="FM_tablebody1c9pt">Process 
		 program data to save in equipment</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="178" class="hcp4"><p 
			 class="FM_tablebody1c9pt">localPPDataLength</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">INT</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="200" class="hcp6"><p class="FM_tablebody1c9pt">Data 
		 size of process program data to save in equipment</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="605" class="hcp14">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">External 
		 Variables</p></th>
		<th width="189" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="340" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td rowspan="6" width="76" class="hcp8"><p class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">GEM 
		 Service status</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_BusyHostPPDownload</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">Host-initiated 
		 Process Program Download Transaction Pro­cessing Flag</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">PPID_TABLE</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">Link 
		 variable for PPID management table</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">HOST_DOWNLOAD_PPID</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">Link 
		 variable for host-initiated download - PPID</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">HOST_DOWNLOAD_LENGTH</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">Link 
		 variable for host-initiated download - LENGTH</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">HOST_DOWNLOAD_PPBODY</p></td>
		<td width="340" class="hcp6"><p class="FM_tablebody1c9pt">Link 
		 variable for host-initiated download - PPBODY</p></td>
	</tr>
</table>

<p class="FM_body1ST">&#160;</p>
<div class="FM_body1l">
	CASE Stage Of 
</div>
<div class="FM_body1l">
	0: // Notification of reception from host 
</div>
<div class="FM_body1l">
	&#160;&#160;R_TRIG_instance( _GEM_BusyHostPPDownload, Trigger ); 
</div>
<div class="FM_body1l">
	&#160;&#160;IF( Trigger = TRUE )THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;// Perform processing to save process program as 
	 required. 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;varAckPPDownloadACKC7:=BYTE#0; &#160;&#160;&#160;// 
	 Accepted. 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;// Initialization 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;AckPPDownload_instance( Execute:=FALSE, ACKC7:= varAckPPDownloadACKC7); 
	 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;Stage:=1; 
</div>
<div class="FM_body1l">
	&#160;&#160;END_IF; 
</div>
<div class="FM_body1l">
	1: // Reply to host. 
</div>
<div class="FM_body1l">
	&#160;&#160;AckPPDownload_instance( Execute:=TRUE, ACKC7:= varAckPPDownloadACKC7); 
	 
</div>
<div class="FM_body1l">
	&#160;&#160;IF( AckPPDownload_instance.Done = TRUE ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;Stage := 10; 
</div>
<div class="FM_body1l">
	&#160;&#160;ELSIF( AckPPDownload_instance.Error = TRUE ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;// Add error processing as required. 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;Stage := 10; 
</div>
<div class="FM_body1l">
	&#160;&#160;END_IF; 
</div>
<div class="FM_body1l">
	10: // End 
</div>
<div class="FM_body1l">
	&#160;&#160;Stage := 0; 
</div>
<div class="FM_body1l">
	END_CASE; 
</div>
</body>
</html>
