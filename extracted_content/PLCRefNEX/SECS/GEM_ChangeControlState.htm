
<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <meta name="generator" content="Adobe RoboHelp 11">
<title>GEM_ChangeControlState</title>
<link rel="StyleSheet" href="SECS.css" type="text/css">
<style title="hcp" type="text/css">
<!--
table.hcp1 { padding-left:4.00pt;
padding-top:3.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt; }
th.hcp2 { border-top:solid 1px #000000;
border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
th.hcp3 { border-top:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
td.hcp4 { border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
td.hcp5 { border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
table.hcp6 { padding-top:5.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt; }
td.hcp7 { vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
th.hcp8 { border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
span.hcp9 { font-style:italic; }
table.hcp10 { padding-left:4.00pt;
padding-top:3.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt;
margin-left:42.52pt; }
span.hcp11 { word-spacing:normal;
font:6.0pt 'Times New Roman'; }
div.hcp12 { text-align:left; }
table.hcp13 { padding-top:6.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt;
margin-left:31.18pt; }
td.hcp14 { border-left:solid 7px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
-->
</style>
</head>

<body>
<script type="text/javascript" src="../../ehlpdhtm.js" language="JavaScript1.2"></script>

<p class="Title">GEM_ChangeControlState</p>
<p class="FM_body1">The GEM_ChangeControlState instruction changes the 
 equipment control state to the specified state and reports the event to 
 the host. The control states are defined in the equipment control state 
 model.</p>

<table cellspacing="0" width="660" class="hcp1">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Instruction</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="43" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">FB/</p>
		<p class="FM_tabletitlec9pt">FUN</p></th>
		<th width="223" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Graphic 
		 expression</p></th>
		<th width="206" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">ST expression</p></th>
	</tr>
	<tr style="height: 103.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_ChangeControlState</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Change Con­trol State</p></td>
		<td width="43" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FB</p></td>
		<td style="border-right: solid 1px #000000; border-bottom: solid 1px #000000;" 
			 width="223"><div style="text-align: center;">
			<img alt="Appendix_A00030.jpg" id="image12" src="Appendix_A00030.jpg" width="185" height="123" border="0"> 
		</div>
		<p class="FM_fig">&#160;</p></td>
		<td width="206" class="hcp5"><p class="FM_tablebody1c9pt">GEM_ChangeCotrolState_instance(</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Execute,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TransitionEvent,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Done,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Busy,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Error,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ErrorID);</p></td>
	</tr>
</table>

<p class="FM_CRhead3">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Variables</p></td>
	</tr>
</table>

<p class="FM_tablespec">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="77" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="88" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Meaning</p></th>
		<th width="59" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">I/O</p></th>
		<th width="142" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Description</p></th>
		<th width="174" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Valid 
		 range</p></th>
		<th width="47" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Unit</p></th>
		<th width="74" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Default</p></th>
	</tr>
	<tr style="height: 49.00pt;">
		<td width="77" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Transition­Event</p></td>
		<td width="88" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Transition request</p></td>
		<td width="59" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Input</p></td>
		<td width="142" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Requested control state</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_CONTROL_OFFLINE, _GEM_CONTROL_ON­LINE_LOCAL, 
		 _GEM_COM­M_ENABLED</p></td>
		<td width="47" class="hcp4"><p 
			 class="FM_tablebody1c9pt">---</p></td>
		<td width="74" class="hcp5"><p class="FM_tablebody1c9pt">_GEM_­CON­TROL_OFFLINE</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 37.00pt;" bgcolor="#B3B3B3">
		<th rowspan="2" width="77" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">&#160;</p></th>
		<th width="47" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Bool­ean</p></th>
		<th colspan="4" width="110" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Bit 
		 strings</p></th>
		<th colspan="8" width="209" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Integers</p></th>
		<th colspan="2" width="83" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Real 
		 num­bers</p></th>
		<th colspan="5" width="134" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Times, 
		 durations, dates, and text strings</p></th>
		
	</tr>
	<tr style="height: 43.00pt;" bgcolor="#B3B3B3">
		<th width="47" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">BOOL</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">BYTE</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">WORD</p></th>
		<th width="29" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">DWORD</p></th>
		<th width="29" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">LWORD</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">USINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">UINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">UDINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">ULINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">SINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">INT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">DINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">LINT</p></th>
		<th width="42" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">REAL</p></th>
		<th width="42" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">LREAL</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">TIME</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">DATE</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">TOD</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp8"><p class="FM_tabletitlec9pt">DT</p></th>
		<th style="border-bottom: solid 1px #000000; vertical-align: top; 
			 padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; 
			 padding-bottom: 3.00pt;" width="27" bgcolor="#B3B3B3"><p class="FM_tabletitlec9pt">STRING</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="77" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Transition­Event</p></td>
		<td colspan="20" width="584" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Refer to <span class="hcp9">Function</span> 
		 for the enumerators of the enumerated type _eGEM_CONTROL.</p></td>
		
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Function</p></td>
	</tr>
</table>

<p class="FM_body1">The GEM_ChangeControlState instruction changes the 
 equipment control state to the state specified with transition request 
 <span class="hcp9">TransitionEvent</span>. The control 
 states are defined in the equipment control state model. After the state 
 is changed, the event is reported to the host.</p>
<p class="FM_body1">&#160;</p>
<p class="FM_body1">The data type of <span class="hcp9">TransitionEvent 
 </span>is enumerated type _eGEM_COMM.</p>
<p class="FM_body1">The control state that is changed to for each enumerator 
 is given in the following table.</p>

<table cellspacing="0" width="427" class="hcp10">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="238" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Enumerator</p></th>
		<th width="189" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">New control 
		 state</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="238" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_CONTROL_OFFLINE</p></td>
		<td width="189" class="hcp5"><p class="FM_tablebody1c9pt">OFF-LINE</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="238" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_CONTROL_ONLINE_LOCAL</p></td>
		<td width="189" class="hcp5"><p class="FM_tablebody1c9pt">ON-LINE/LOCAL</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="238" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_COMM_ENABLED</p></td>
		<td width="189" class="hcp5"><p class="FM_tablebody1c9pt">ON-LINE/REMOTE</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>
<p class="FM_body1">The specified control state transition is started when 
 the instruction ends normally. Use the <span class="hcp9">_GEM_Con­trolState</span> 
 system-defined variable to confirm when the control state transition is 
 completed.</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Additional Information</p></td>
	</tr>
</table>

<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>The 
 SECS message exchange between the equipment and host is given below.</p>
<div class="hcp12">
	<img alt="GEM_ChangeControlState_020.jpg" id="image13" src="GEM_ChangeControlState_020.jpg" width="661" height="196" border="0"> 
</div>
<p class="FM_bul1">&#160;</p>
<p class="FM_bul1">The Are You There Request (S1,F1) SECS message is 
 sent to the host when this instruction is exe­cuted under the following 
 two conditions.</p>
<p class="FM_bul1">a)<span class="hcp11">&#160;&#160;&#160;</span>The 
 control status must be EQUIPMENT OFF-LINE.</p>
<p class="FM_bul1">b)<span class="hcp11">&#160;&#160;&#160;</span>ON-LINE/LOCAL 
 or ON-LINE/REMOTE must be specified with <span class="hcp9">TransitionEvent</span>.</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Related System-defined 
		 Variables</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Meaning</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="283" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Description</p></th>
	</tr>
	<tr style="height: 49.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ControlState</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Control State</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_sGEM_­CON­TROL_STATE</p></td>
		<td width="283" class="hcp5"><p class="FM_tablebody1c9pt">Gives 
		 the state of the control state model.</p>
		<p class="FM_tablebody1c9pt">Refer to <a href="GEM_SystemVariables.htm#A212_Control_State_Model">Control 
		 State Model</a> for details.</p></td>
	</tr>
	<tr style="height: 49.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_sGEM_­SER­VICE_STATUS</p></td>
		<td width="283" class="hcp5"><p class="FM_tablebody1c9pt">Gives 
		 the GEM Service status.</p>
		<p class="FM_tablebody1c9pt">Refer to <a href="GEM_SystemVariables.htm#A206_GEM_Service_Status">GEM 
		 Service status</a> for details.</p></td>
	</tr>
</table>

<p class="FM_CRhead3">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Related Error Codes</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Error 
		 code</p></th>
		<th width="227" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="340" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Description</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#0400</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Input Value Out of Range</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 value of <span class="hcp9">TransitionEvent</span> 
		 is outside of the valid range.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#041D</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Exceeded Simultaneous Instruction 
		 Exe­cuted Resources</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 number of simultaneously executed GEM instructions exceeded the 
		 limit.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3810</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Initializing</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Initializing.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3811</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in EQStarting</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was EQStarting.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3812</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in EQInitializing</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was EQInitializing.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3814</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Stop</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Stop.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3815</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Error</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Error.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3816</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in ShuttingDown</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was ShuttingDown.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3817</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Shutdown</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Shutdown.</p></td>
	</tr>
	<tr style="height: 40.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#381A</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">State Transition in Progress</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when waiting for On-Line Data (S1,F2) 
		 from the host.</p>
		<p class="FM_tablebody1c9pt">This error will not occur when a reply 
		 timeout occurs.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#381B</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Insufficient Transaction Resources</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">When 
		 the instruction was executed, the limit to the number of transactions 
		 that can be buffered had been reached.</p></td>
	</tr>
</table>

<p class="FM_CRhead3">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Precautions for Correct 
		 Use</p></td>
	</tr>
</table>

<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>Check 
 <span class="hcp9">_GEM_ServiceStatus</span>&#160;before 
 you execute this instruction. If you execute this instruction when <span class="hcp9">_GEM_ServiceStatus</span>&#160;is not 
 EQRun, an error will occur and <span class="hcp9">Error</span> 
 will change to TRUE.</p>
<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>The 
 instruction will end normally if the control state requested with the 
 <span class="hcp9">TransitionEvent</span>&#160;input variable 
 is the same as the current control state. The control state will not change.</p>
<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>The 
 instruction will end in an error if it is executed when the control state 
 is ATTEMPT ONLINE. How­ever, if On-Line Data (S1,F2) is received or if 
 a reply timeout occurs, the instruction will end normally. If the instruction 
 ends in an error with an error code of 16#381A, wait for the reply timeout 
 time and then execute the instruction again.</p>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Sample Programming</p></td>
	</tr>
</table>

<p class="FM_body1">This sample changes the control state 
 to LOCAL, REMOTE, or OFF-LINE. It also confirms that the con­trol state 
 has changed.</p>
<p class="FM_body1">If the GEM Service status is EQRun, the control state 
 is changed for the following changes.</p>
<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>If 
 the <span class="hcp9">Online_Local_Start</span>&#160;internal 
 variable changes from FALSE to TRUE, the control state is changed to LOCAL.</p>
<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>If 
 the <span class="hcp9">Online_Remote_Start</span>&#160;internal 
 variable changes from FALSE to TRUE, the control state is changed to REMOTE.</p>
<p class="FM_bul1">•<span class="hcp11">&#160;&#160;&#160;&#160;</span>If 
 the <span class="hcp9">Offline_Start</span>&#160;internal 
 variable changes from FALSE to TRUE, the control state is changed to OFF-LINE.</p>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="620" class="hcp13">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp14"><p 
			 class="FM_CRhead3">LD</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="605" class="hcp10">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Internal 
		 Variables</p></th>
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Initial 
		 value</p></th>
		<th width="208" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td rowspan="7" width="76" class="hcp7"><p class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Online_Local_Start</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 to start changing the control state to LOCAL</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Online_Remote_Start</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 to start changing the control state to REMOTE</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Offline_Start</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 to start changing the control state to OFF-LINE</p></td>
	</tr>
	<tr style="height: 49.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">transitionEvent_Control<br>
		State</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_eGEM_<br>
		CONTROL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_<br>
		CON­TROL_OF­FLINE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Event 
		 to request the change</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">ChangeControlState_<br>
		instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_Change­ControlState</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of GEM_ChangeControl­State instruction</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">ChangeControlState_<br>
		WaitResp</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 that indicates waiting for com­pletion of state change</p></td>
	</tr>
	<tr style="height: 49.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">ChangeControlState_<br>
		Complete</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_<br>
		CON­TROL_OF­FLINE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">State 
		 change completion flag</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="605" class="hcp10">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">External 
		 Variables</p></th>
		<th width="174" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="355" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">GEM 
		 Service status</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ControlState</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">Control 
		 state</p></td>
	</tr>
</table>

<div class="hcp12">
	<img alt="GEM_ChangeControlState_030.jpg" id="image14" src="GEM_ChangeControlState_030.jpg" width="661" height="757" border="0"> 
</div>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="620" class="hcp13">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp14"><p 
			 class="FM_CRhead3">ST</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="605" class="hcp10">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Internal 
		 Variables</p></th>
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Initial 
		 value</p></th>
		<th width="208" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td rowspan="12" width="76" class="hcp7"><p class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Online_Local_Start</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 to start changing the control state to LOCAL</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Online_Remote_Start</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 to start changing the control state to REMOTE</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Offline_Start</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 to start changing the control state to OFF-LINE</p></td>
	</tr>
	<tr style="height: 49.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">transitionEvent_Control<br>
		State</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_eGEM_<br>
		CONTROL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_<br>
		CON­TROL_OF­FLINE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Event 
		 to request the change</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">ChangeControlState_<br>
		instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_Change­ControlState</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of R_TRIG instruction for Online_Local</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG_Local_instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of R_TRIG instruction for Online_Remote</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG_Remote_<br>
		instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of R_TRIG instruction for Disabled</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG_Offline_<br>
		instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of R_TRIG instruction for Offline_Start</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Trigger_Local</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 for FALSE to TRUE change in <span class="hcp9">Online_Local_Start</span></p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Trigger_Remote</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 for FALSE to TRUE change in <span class="hcp9">Online_Remote_Start</span></p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Trigger_Offline</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 for FALSE to TRUE change in <span class="hcp9">Offline_Start</span></p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Stage</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">INT</p></td>
		<td width="76" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Program 
		 execution status</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="605" class="hcp10">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">External 
		 Variables</p></th>
		<th width="174" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="355" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">GEM 
		 Service status</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ControlState</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">Control 
		 state</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>
<div class="FM_body1l">
	&#160;
</div>
<div class="FM_body1l">
	CASE Stage Of 
</div>
<div class="FM_body1l">
	0: // Start
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;R_TRIG_Local_instance( Online_Local_Start, 
	 Trigger_Local ); 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;R_TRIG_Remote_instance( Online_Remote_Start, 
	 Trigger_Remote ); 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;R_TRIG_Offline_instance( Offline_Start, Trigger_Offline 
	 ); 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;IF( Trigger_Local = TRUE ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;transitionEvent_ControlState 
	 := _eGEM_CONTROL#_GEM_CONTROL_ONLINE_LOCAL; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;ELSIF( Trigger_Remote = TRUE ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;transitionEvent_ControlState 
	 := _eGEM_CONTROL#_GEM_CONTROL_ONLINE_REMOTE; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;ELSIF( Trigger_Offline = TRUE ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;transitionEvent_ControlState 
	 := _eGEM_CONTROL#_GEM_CONTROL_OFFLINE; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;ELSE 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;RETURN; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;END_IF; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;IF (_GEM_ServiceStatus.EQRun = TRUE ) THEN 
	 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Initialization
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;ChangeControlState_instance( 
	 Execute:=FALSE, transitionEvent:=transition­Event_ControlState ); 
	 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 1;
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;END_IF; 
</div>
<div class="FM_body1l">
	1: // Start state change.
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;ChangeControlState_instance( Execute:=TRUE, transitionEvent:= 
	 transitionEvent_­ControlState ); 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;IF( ChangeControlState_instance.Done = TRUE 
	 ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 2; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;ELSIF( ChangeControlState_instance.Error = 
	 TRUE ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Add error processing as 
	 required.
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 10; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;END_IF; 
</div>
<div class="FM_body1l">
	2: // Wait for state change.
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;IF( (transitionEvent_ControlState = _eGEM_CONTROL#_GEM_CONTROL_ONLINE_LOCAL 
	 )
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;AND _GEM_ControlState.OnlineLocal 
	 = TRUE ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 10; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;ELSIF( (transitionEvent_ControlState = _eGEM_CONTROL#_GEM_CONTROL_ONLINE_REMOTE 
	 ) 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;AND _GEM_ControlState.OnlineRemote 
	 = TRUE ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 10; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;ELSIF( (transitionEvent_ControlState = _eGEM_CONTROL#_GEM_CONTROL_OFFLINE 
	 ) 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;AND _GEM_ControlState.EquipOffline 
	 = TRUE ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 10; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;END_IF; 
</div>
<div class="FM_body1l">
	10: // End
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;Stage := 0; 
</div>
<div class="FM_body1l">
	END_CASE;
</div>
</body>
</html>
