
<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <meta name="generator" content="Adobe RoboHelp 11">
<title>GEM_SendTerminalMsg</title>
<link rel="StyleSheet" href="SECS.css" type="text/css">
<style title="hcp" type="text/css">
<!--
table.hcp1 { padding-left:4.00pt;
padding-top:3.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt; }
th.hcp2 { border-top:solid 1px #000000;
border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
th.hcp3 { border-top:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
td.hcp4 { border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
td.hcp5 { border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
table.hcp6 { padding-top:5.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt; }
td.hcp7 { vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
table.hcp8 { margin-left:0.00pt;
margin-bottom:3.50pt;
margin-top:6.00pt; }
th.hcp9 { border-right:solid 1px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
span.hcp10 { font-style:italic; }
table.hcp11 { padding-left:4.00pt;
padding-top:3.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt;
margin-left:42.52pt; }
span.hcp12 { word-spacing:normal;
font:6.0pt 'Times New Roman'; }
div.hcp13 { text-align:left; }
table.hcp14 { padding-top:6.00pt;
padding-right:4.00pt;
padding-bottom:1.00pt;
margin-left:31.18pt; }
td.hcp15 { border-left:solid 7px #000000;
border-bottom:solid 1px #000000;
vertical-align:top;
padding-left:6.00pt;
padding-top:3.00pt;
padding-right:6.00pt;
padding-bottom:3.00pt; }
-->
</style>
</head>

<body>
<script type="text/javascript" src="../../ehlpdhtm.js" language="JavaScript1.2"></script>

<p class="Title">GEM_SendTerminalMsg</p>
<p class="FM_body1">The GEM_SendTerminalMsg instruction sends an equipment 
 terminal message to the host.</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Instruction</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="43" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">FB/</p>
		<p class="FM_tabletitlec9pt">FUN</p></th>
		<th width="236" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Graphic 
		 expression</p></th>
		<th width="194" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">ST expression</p></th>
	</tr>
	<tr style="height: 130.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_SendTerminalMsg</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Send Equip­ment Terminal Message</p></td>
		<td width="43" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FB</p></td>
		<td style="border-right: solid 1px #000000; border-bottom: solid 1px #000000;" 
			 width="236"><div style="text-align: center;">
			<img alt="GEM_SendTerminalMsg_010.jpg" id="image82" src="GEM_SendTerminalMsg_010.jpg" border="0"> 
		</div>
		<p class="FM_fig">&#160;</p></td>
		<td width="194" class="hcp5"><p class="FM_tablebody1c9pt">GEM_SendTerminalMsg_<br>
		instance(</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Execute,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TID,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;TerminalTEXT,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Done,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Busy,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Error,</p>
		<p class="FM_tablebody1c9pt">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;ErrorID);</p></td>
	</tr>
</table>

<p class="FM_CRhead3">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Variables</p></td>
	</tr>
</table>

<p class="FM_tablespec">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="113" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Meaning</p></th>
		<th width="60" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">I/O</p></th>
		<th width="189" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Description</p></th>
		<th width="98" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Valid 
		 range</p></th>
		<th width="53" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Unit</p></th>
		<th width="53" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Default</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">TID</p></td>
		<td width="113" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Terminal number</p></td>
		<td rowspan="2" width="60" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Input</p></td>
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Equipment terminal number</p></td>
		<td width="98" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#00 to 16#01</p></td>
		<td rowspan="2" width="53" class="hcp4"><p 
			 class="FM_tablebody1c9pt">---</p></td>
		<td width="53" class="hcp5"><p class="FM_tablebody1c9pt">16#00</p></td>
	</tr>
	<tr style="height: 39.40pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">TerminalTEXT</p></td>
		<td width="113" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Send text string</p></td>
		<td width="189" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Equipment terminal service data 
		 (text string) to send to host</p></td>
		<td width="98" class="hcp4"><p 
			 class="FM_tablebody1c9pt">241 bytes max. (including final 
		 NULL)<sup>*1</sup></p></td>
		<td width="53" class="hcp5"><p class="FM_tablebody1c9pt">&quot;</p></td>
	</tr>
</table>


<table width="661" class="hcp8">
	<tr>
		<td><p class="FM_tablebody1c9pt"><sup>*1</sup>The maximum number 
		 of characters is set on the SECS/GEM Configurator. The maximum 
		 number of bytes is the maxi­mum number of characters including 
		 the final NULL character plus 1.</p></td>
	</tr>
</table>


<table cellspacing="0" width="659" class="hcp1">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th rowspan="2" width="77" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">&#160;</p></th>
		<th width="47" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Bool­ean</p></th>
		<th colspan="4" width="118" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Bit 
		 strings</p></th>
		<th colspan="8" width="209" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Integers</p></th>
		<th colspan="2" width="70" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Real 
		 num­bers</p></th>
		<th colspan="5" width="138" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Times, 
		 durations, dates, and text strings</p></th>
		
	</tr>
	<tr style="height: 43.00pt;" bgcolor="#B3B3B3">
		<th width="47" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">BOOL</p></th>
		<th width="34" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">BYTE</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">WORD</p></th>
		<th width="29" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">DWORD</p></th>
		<th width="29" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">LWORD</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">USINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">UINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">UDINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">ULINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">SINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">INT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">DINT</p></th>
		<th width="26" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">LINT</p></th>
		<th width="35" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">REAL</p></th>
		<th width="35" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">LREAL</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">TIME</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">DATE</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">TOD</p></th>
		<th width="27" bgcolor="#B3B3B3" class="hcp9"><p class="FM_tabletitlec9pt">DT</p></th>
		<th style="border-bottom: solid 1px #000000; vertical-align: top; 
			 padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; 
			 padding-bottom: 3.00pt;" width="30" bgcolor="#B3B3B3"><p class="FM_tabletitlec9pt">STRING</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="77" class="hcp4"><p 
			 class="FM_tablebody1c9pt">TID</p></td>
		<td width="47" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="34" class="hcp4"><p 
			 class="FM_tablebody1c9pt">OK</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="29" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="29" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="35" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="35" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="30" class="hcp5"><p class="FM_tablebody1c9pt">&#160;</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="77" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Terminal<br>
		TEXT</p></td>
		<td width="47" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="34" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="29" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="29" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="26" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="35" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="35" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="27" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="30" class="hcp5"><p class="FM_tablebody1c9pt">OK</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Function</p></td>
	</tr>
</table>

<p class="FM_body1">The GEM_SendTerminalMsg instruction sends an equipment 
 terminal message to the host to display the message specified with send 
 text string <span class="hcp10">TerminalTEXT</span> at the 
 terminal specified with terminal num­ber <span class="hcp10">TID</span>.<br>
The meanings of the values of <span class="hcp10">TID</span> 
 are given in the following table.</p>

<table cellspacing="0" width="231" class="hcp11">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="110" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Value 
		 of <span class="hcp10">TID</span></p></th>
		<th width="121" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Meaning</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="110" class="hcp4"><p 
			 class="FM_tablebody19pt">16#00</p></td>
		<td width="121" class="hcp5"><p class="FM_tablebody19pt">Main 
		 terminal</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="110" class="hcp4"><p 
			 class="FM_tablebody19pt">16#01</p></td>
		<td width="121" class="hcp5"><p class="FM_tablebody19pt">Additional 
		 terminal</p></td>
	</tr>
</table>

<p class="FM_body1">The result of sending the equipment terminal message 
 to the host is stored in the <span class="hcp10">_GEM_EquipTermi­nalMsgRslt</span> 
 system-defined variable.</p>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Additional Information</p></td>
	</tr>
</table>

<p class="FM_bul1">•<span class="hcp12">&#160;&#160;&#160;&#160;</span>This 
 instruction uses the Operator Sends Information to Host scenario for the 
 GEM Equipment Termi­nal Services capability.</p>
<p class="FM_bul1">•<span class="hcp12">&#160;&#160;&#160;&#160;</span>A 
 SECS message is sent if this instruction is executed and execution ends 
 normally. The SECS message exchange between the equipment and host is 
 given below.</p>
<div class="hcp13">
	<img alt="GEM_SendTerminalMsg_020.jpg" id="image83" src="GEM_SendTerminalMsg_020.jpg" border="0"> 
</div>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Related System-defined 
		 Variables</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="144" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="151" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Meaning</p></th>
		<th width="102" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="265" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Description</p></th>
	</tr>
	<tr style="height: 57.40pt;">
		<td width="144" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_BusyEquip<br>
		TerminalMsg</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Equipment-initiated Termi­nal Message 
		 Transaction Processing Flag</p></td>
		<td width="102" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="265" class="hcp5"><p class="FM_tablebody19pt">Gives 
		 the processing status of an equip­ment-initiated terminal message 
		 transaction.<sup>*1</sup></p>
		<p class="FM_tablebody19pt">TRUE: Processing</p>
		<p class="FM_tablebody19pt">FALSE: Not processing</p></td>
	</tr>
	<tr style="height: 40.00pt;">
		<td width="144" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_EquipTerminal<br>
		MsgRslt</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Equipment-initiated Termi­nal Message 
		 Results</p></td>
		<td width="102" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_sGEM_RSLT</p></td>
		<td width="265" class="hcp5"><p class="FM_tablebody1c9pt">Gives 
		 the results of an equipment-initiated ter­minal message.</p>
		<p class="FM_tablebody1c9pt">Refer to <a href="GEM_SystemVariables.htm#A218_Equipment_Terminal_Services">Equipment 
		 Terminal Services</a> for details.</p></td>
	</tr>
	<tr style="height: 28.00pt;">
		<td width="144" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="151" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status</p></td>
		<td width="102" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_sGEM_SER­VICE_STATUS</p></td>
		<td width="265" class="hcp5"><p class="FM_tablebody1c9pt">Gives 
		 the GEM Service status.</p>
		<p class="FM_tablebody1c9pt">Refer to <a href="GEM_SystemVariables.htm#A206_GEM_Service_Status">GEM 
		 Service status</a> for details.</p></td>
	</tr>
</table>


<table width="661" class="hcp8">
	<tr>
		<td><p class="FM_tablebody1c9pt"><sup>*1</sup>This variable changes 
		 to TRUE when the instruction ends normally. It changes to FALSE 
		 when transaction processing is completed.</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Related Error Codes</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="661" class="hcp1">
	<tr style="height: 13.00pt;" bgcolor="#B3B3B3">
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Error 
		 code</p></th>
		<th width="227" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Name</p></th>
		<th width="340" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Description</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3829</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">TID Out of Range</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 value of <span class="hcp10">TID</span> is outside 
		 of the valid range.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3820</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Too Many Characters</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 number of characters stored in <span class="hcp10">TerminalTEXT</span>&#160;exceeded 
		 the size set on the SECS/GEM Configurator.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#041D</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Exceeded Simultaneous Instruction 
		 Exe­cuted Resources</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 number of simultaneously executed GEM instructions exceeded the 
		 limit.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3822</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Invalid Setting</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when it was disabled on the SECS/GEM 
		 Configurator.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3810</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Initializing</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Initializing.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3811</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in EQStarting</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was EQStarting.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3812</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in EQInitializing</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was EQInitializing.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3814</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Stop</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Stop.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3815</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Error</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Error.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3816</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in ShuttingDown</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was ShuttingDown.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3817</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM Service Status in Shutdown</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">The 
		 instruction was executed when the GEM Service status was Shutdown.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#3819</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Multi-execution of Instructions</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">Transaction 
		 processing is not completed for a previous execu­tion of the same 
		 instruction.</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">16#381B</p></td>
		<td width="227" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Insufficient Transaction Resources</p></td>
		<td width="340" class="hcp5"><p class="FM_tablebody1c9pt">When 
		 the instruction was executed, the limit to the number of transactions 
		 that can be buffered had been reached.</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Precautions for Correct 
		 Use</p></td>
	</tr>
</table>

<p class="FM_bul1">•<span class="hcp12">&#160;&#160;&#160;&#160;</span>Before 
 executing the instruction, confirm that all of the following conditions 
 are met. If the instruction is executed when any of these conditions is 
 not met, an error will occur and <span class="hcp10">Error</span>&#160;will 
 change to TRUE.</p>
<p class="FM_bul1">a)<span class="hcp12">&#160;&#160;&#160;</span><span class="hcp10">_GEM_ServiceStatus</span>&#160;must be 
 <span class="hcp10">EQRun</span>.</p>
<p class="FM_bul1">b)<span class="hcp12">&#160;&#160;&#160;</span>The 
 value specified in the <span class="hcp10">TID</span> input 
 variable must be within the valid range.</p>
<p class="FM_bul1">c)<span class="hcp12">&#160;&#160;&#160;</span>The 
 number of characters specified in the <span class="hcp10">TerminalTEXT</span>&#160;input 
 variable must be equal or less than the number of characters that was 
 set on the SECS/GEM Configurator.</p>
<p class="FM_bul1">•<span class="hcp12">&#160;&#160;&#160;&#160;</span>Access 
 <span class="hcp10">_GEM_EquipTerminalMsgRslt</span>&#160;after 
 <span class="hcp10">_GEMBusyEquipTerminalMsg</span>&#160;changes 
 from TRUE to FALSE.</p>
<p class="FM_bul1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Application Procedure</p></td>
	</tr>
</table>

<p class="FM_body1">Use the following procedure for this instruction.</p>
<p class="FM_list1"><span class="FM_list1num">1<span class="hcp12">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Sending 
 the Equipment Terminal Message</p>
<p class="FM_listbody1">Do the following and then execute the instruction. 
 The equipment terminal message is sent to the host.</p>
<p class="FM_bul3">•<span class="hcp12">&#160;&#160;&#160;&#160;</span>Store 
 the equipment terminal number in the <span class="hcp10">TID</span> 
 input variable.</p>
<p class="FM_bul3">•<span class="hcp12">&#160;&#160;&#160;&#160;</span>Store 
 the message to display on the terminal in the <span class="hcp10">TerminalTEXT</span> 
 input variable.</p>
<p class="FM_list1next"><span class="FM_list1num">2<span class="hcp12">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></span>Confirming 
 the Result of Sending the Equipment Terminal Message</p>
<p class="FM_listbody1">Check the result of sending the equipment terminal 
 message in <span class="hcp10">GEM_EquipTerminalMsgRslt</span>&#160;after 
 <span class="hcp10">_GEM_BusyEquipTerminalMsg</span> changes 
 to FALSE.</p>
<p class="FM_bul1">&#160;</p>

<table cellspacing="0" width="661" class="hcp6">
	<tr style="height: 20.00pt;" bgcolor="#B3B3B3">
		<td width="661" bgcolor="#B3B3B3" class="hcp7"><p class="FM_CRhead3">Sample Programming</p></td>
	</tr>
</table>

<p class="FM_body1">This sample sends an equipment terminal message to 
 the host.</p>
<p class="FM_body1">The equipment terminal message is to display “ABC” 
 on the equipment with terminal number 0.</p>
<p class="FM_body1">If the GEM Service status is EQRun and the <span class="hcp10">SendTerminalMsg_Start</span>&#160;internal 
 variable changes from FALSE to TRUE, the equipment terminal message is 
 sent.</p>
<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="620" class="hcp14">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp15"><p 
			 class="FM_CRhead3">LD</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="605" class="hcp11">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Internal 
		 Variables</p></th>
		<th width="170" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="57" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Initial 
		 value</p></th>
		<th width="208" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td rowspan="6" width="76" class="hcp7"><p class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">SendTerminalMsg_Start</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 to start sending the equipment terminal message</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">SendTerminalMsg_<br>
		instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_Send<br>
		TerminalMsg</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of GEM_SendTerminalMsg instruction</p></td>
	</tr>
	<tr style="height: 37.00pt;">
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">SendTerminalMsg_<br>
		WaitResp</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 that indicates waiting for com­pletion of equipment terminal mes­sage 
		 send</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">SendTerminalMsg_<br>
		Complete</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 that indicates completion of equipment terminal message send</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">varTID</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BYTE</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Terminal 
		 number</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="170" class="hcp4"><p 
			 class="FM_tablebody1c9pt">varTerminalText</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">STRING[241]</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">NULL</p></td>
		<td width="208" class="hcp5"><p class="FM_tablebody1c9pt">Text 
		 to send to host</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="605" class="hcp11">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">External 
		 Variables</p></th>
		<th width="174" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="355" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">GEM 
		 Service status</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_BusyEquipTerminal<br>
		Msg</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">Equipment-initiated 
		 Terminal Message Transaction Processing Flag</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>
<p class="FM_body1">&#160;</p>
<div class="hcp13">
	<img alt="GEM_SendTerminalMsg_030.jpg" id="image84" src="GEM_SendTerminalMsg_030.jpg" border="0"> 
</div>
<p class="FM_fig">&#160;</p>

<table cellspacing="0" width="620" class="hcp14">
	<tr style="height: 21.00pt;">
		<td width="620" class="hcp15"><p 
			 class="FM_CRhead3">ST</p></td>
	</tr>
</table>

<p class="FM_tabletitlec9pt">&#160;</p>

<table cellspacing="0" width="605" class="hcp11">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Internal 
		 Variables</p></th>
		<th width="159" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="94" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Data 
		 type</p></th>
		<th width="57" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Initial 
		 value</p></th>
		<th width="219" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 25.00pt;">
		<td rowspan="8" width="76" class="hcp7"><p class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="159" class="hcp4"><p 
			 class="FM_tablebody1c9pt">SendTerminalMsg_Start</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="219" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 to start sending the equipment ter­minal message</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="159" class="hcp4"><p 
			 class="FM_tablebody1c9pt">SendTerminalMsg_<br>
		instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">GEM_Send<br>
		TerminalMsg</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="219" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of GEM_SendTerminalMsg instruction</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="159" class="hcp4"><p 
			 class="FM_tablebody1c9pt">varTID</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BYTE</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="219" class="hcp5"><p class="FM_tablebody1c9pt">Terminal 
		 number</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="159" class="hcp4"><p 
			 class="FM_tablebody1c9pt">varTerminalText</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">STRING[241]</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">NULL</p></td>
		<td width="219" class="hcp5"><p class="FM_tablebody1c9pt">Text 
		 to send to host</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="159" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG_instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">R_TRIG</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="219" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of R_TRIG instruction</p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="159" class="hcp4"><p 
			 class="FM_tablebody1c9pt">F_TRIG_instance</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">F_TRIG</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="219" class="hcp5"><p class="FM_tablebody1c9pt">Instance 
		 of F_TRIG instruction</p></td>
	</tr>
	<tr style="height: 52.00pt;">
		<td width="159" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Trigger</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">BOOL</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">FALSE</p></td>
		<td width="219" class="hcp5"><p class="FM_tablebody1c9pt">Flag 
		 for FALSE to TRUE change in <span class="hcp10">SendTerminalMsg_Start</span></p>
		<p class="FM_tablebody1c9pt">Flag for TRUE to FALSE change in <span class="hcp10">_GEM_BusyEquipTerminalMsg</span></p></td>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="159" class="hcp4"><p 
			 class="FM_tablebody1c9pt">Stage</p></td>
		<td width="94" class="hcp4"><p 
			 class="FM_tablebody1c9pt">INT</p></td>
		<td width="57" class="hcp4"><p 
			 class="FM_tablebody1c9pt">0</p></td>
		<td width="219" class="hcp5"><p class="FM_tablebody1c9pt">Program 
		 execution status</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>

<table cellspacing="0" width="605" class="hcp11">
	<tr style="height: 25.00pt;" bgcolor="#B3B3B3">
		<th width="76" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">External 
		 Variables</p></th>
		<th width="174" bgcolor="#B3B3B3" class="hcp2"><p class="FM_tabletitlec9pt">Variable</p></th>
		<th width="355" bgcolor="#B3B3B3" class="hcp3"><p class="FM_tabletitlec9pt">Comment</p></th>
	</tr>
	<tr style="height: 13.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_ServiceStatus</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">GEM 
		 Service status</p></td>
	</tr>
	<tr style="height: 25.00pt;">
		<td width="76" class="hcp7"><p 
			 class="FM_tablebody1c9pt">&#160;</p></td>
		<td width="174" class="hcp4"><p 
			 class="FM_tablebody1c9pt">_GEM_BusyEquipTerminal<br>
		Msg</p></td>
		<td width="355" class="hcp5"><p class="FM_tablebody1c9pt">Equipment-initiated 
		 Terminal Message Transaction Processing Flag</p></td>
	</tr>
</table>

<p class="FM_body1">&#160;</p>
<div class="FM_body1l">
	CASE Stage Of 
</div>
<div class="FM_body1l">
	0: 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;R_TRIG_instance( SendTerminalMsg_Start, Trigger 
	 ); 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;IF( (Trigger = TRUE) AND ( _GEM_ServiceStatus.EQRun 
	 = TRUE ) ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Initialization 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;varTerminalText:='ABC'; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;varTID := BYTE#0; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SendTerminalMsg_instance( 
	 Execute:=FALSE ); 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 1; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;END_IF; 
</div>
<div class="FM_body1l">
	1: // Start send. 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;SendTerminalMsg_instance( Execute:=TRUE, TID :=varTID, 
	 TerminalTEXT:=varTermin­alText ); 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;IF( SendTerminalMsg_instance.Done = TRUE ) 
	 THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 2; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;ELSIF( SendTerminalMsg_instance.Error = TRUE 
	 ) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;// Add error processing as 
	 required. 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 10; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;END_IF; 
</div>
<div class="FM_body1l">
	2: // Wait for completion of send. 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;F_TRIG_instance( _GEM_BusyEquipTerminalMsg, 
	 Trigger ); 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;IF( Trigger = TRUE) THEN 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Stage := 10; 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;END_IF; 
</div>
<div class="FM_body1l">
	10: // End 
</div>
<div class="FM_body1l">
	&#160;&#160;&#160;&#160;Stage := 0; 
</div>
<div class="FM_body1l">
	END_CASE; 
</div>
</body>
</html>
